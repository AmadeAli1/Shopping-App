create table if not exists Usuario
(
    id           varchar primary key  default gen_random_uuid(),
    email        varchar     not null unique,
    username     varchar(60) not null check ( length(username) >= 3 ),
    password     varchar     not null check ( length(password) >= 6 ),
    cityName     varchar     not null,
    mobileNumber varchar(30) ,
    isEnable     boolean     not null default false
);

create table if not exists Location
(
    id        int primary key generated by default as identity,
    name      varchar not null,
    longitude float8  not null,
    latitude  float8  not null,
    user_fk   varchar not null references usuario (id) on delete cascade
);

create table token
(
    uid         uuid    default gen_random_uuid() not null
        primary key,
    userid      varchar                              not null
        references usuario(id)
            on update cascade on delete cascade,
    createdat   timestamp                         not null,
    expiredat   timestamp                         not null,
    confirmedat timestamp,
    isvalid     boolean default true
);